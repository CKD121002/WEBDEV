<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail</title>
    <link rel="stylesheet" href="../style/product.css">
    <link rel="stylesheet" href="../style/HileeTumblerCart.css">
    <link rel="icon" type="png" href="hilee.png">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
    rel="stylesheet"/>
    
</head>
<body>
    <div class="bgcontainer"></div>
    <header>
        <div class="navbar">

            <div class="logo">
              <a href="../php/HILEETUMBLER.php"><img src="../../imgs/hilee.png"></a>
            </div>
            <ul>
              <li><a href="../php/ACCOUNT.php">Account</a></li>
              <li><a href="../php/HILEETUMBLER.php">Home</a></li>
              <li><a href="../PHP/about.php">About</a></li>
              <li><a href="../php/product.html">Product</a></li>
      
              <li>
                <a href="../php/shoppingcart.php" class="cart-icon">
                  <i class="ri-shopping-cart-2-line"></i>
                  <span class="cart-count">0</span>
                </a>
              </li>
      
            </ul>
          </div>
</header>
 <div class="product-detail">
    <a href="Product.php" class="back">‚Üê</a>
    <div class="product-img">
        <div class="thumbnail-list">
           <!-- <img src="pear.jpg" alt="Pear">
            <img src="pear.jpg" alt="Pear">
            <img src="pear.jpg" alt="Pear">
            <img src="pear.jpg" alt="Pear"> -->
        </div>
            <div class="main-img">
                <!-- <img src="pear.jpg" alt="Pear"> -->
            </div>
    </div>
    <div class="product-info">
            <h2 class="title"></h2>
            <span class="price"></span>
            <p class="description"></p>
            <div class="size-selection">
                <p>Select size</p>
                <div class="size-options">
                    <!-- <button class="selected">22oz</button>
                    <button>27oz</button>
                    <button>33oz</button>
                    <button>43oz</button> -->
                </div>
                <div class="color-selection">
                    <p>Select Color</p>
                    <div class="color-options">
                       <!-- <img src="pear.jpg" alt="pear" class="selected">-->
                    </div>
                </div>
            </div>
            <button class="button" id="addToCart">Add to Cart</button>
            <div class="product-policy">
                <p>100% Original Product</p>
                <p>Easy return and exchange policy within 14 days</p>
            </div>
    </div>
 </div>


 <script src="../js/Product-Cart.js"></script>

 <script>
    const products = [
      {
        id: 1,
        title: "HILEE (Pear) Premium Flask Hydration",
        price: "PHP 341.91",
        description: "Warming Time: 7-12 Hours Cooling Time: 12-24 Hours  Style: Classic Material: Stainless Steel Feature: Leak-proof, Heat Resistant, Anti-Scalding Volume: 20oz-43oz Quantity Per Pack: 1",
        colors: [
          {
            name:"Pear",
            mainImage: "../../imgs/pear.jpg",
            thumbnails: [
              "../../imgs/pearstand.png",
              "../../imgs/hotncold-pear.png",
              "../../imgs/fourfruit.jpg"
            ],
            sizes: ["20oz", "27oz", "33oz", "43oz"],
          }
        ]
      },
      {
        id: 2,
        title: "HILEE (Wax Apple) Premium Flask Hydration",
        price: "PHP 341.91",
        description: "Warming Time: 7-12 Hours Cooling Time: 12-24 Hours  Style: Classic Material: Stainless Steel Feature: Leak-proof, Heat Resistant, Anti-Scalding Volume: 20oz-43oz Quantity Per Pack: 1",
        colors: [
          {
            name:"Wax Apple",
            mainImage: "../../imgs/wax apple.jpg",
            thumbnails: [
              "../../imgs/waxapplestand.png",
              "../../imgs/hotncold-waxapple.png",
              "../../imgs/fourfruit.jpg"
            ],
            sizes: ["20oz", "27oz", "33oz", "43oz"],
          }
        ]
      },
      {
        id: 3,
        title: "HILEE (Pineapple) Premium Flask Hydration",
        price: "PHP 341.91",
        description: "Warming Time: 7-12 Hours Cooling Time: 12-24 Hours  Style: Classic Material: Stainless Steel Feature: Leak-proof, Heat Resistant, Anti-Scalding Volume: 20oz-43oz Quantity Per Pack: 1",
        colors: [
          {
            name:"Pineapple",
            mainImage: "../../imgs/pineapple.jpg",
            thumbnails: [
              "../../imgs/pineapplestand.png",
              "../../imgs/hotncold-pineapple.jpg",
              "../../imgs/fourfruit.jpg"
            ],
            sizes: ["20oz", "27oz", "33oz", "43oz"],
          }
        ]
      },
      {
        id: 4,
        title: "HILEE (Green Apple) Premium Flask Hydration",
        price: "PHP 341.91",
        description: "Warming Time: 7-12 Hours Cooling Time: 12-24 Hours  Style: Classic Material: Stainless Steel Feature: Leak-proof, Heat Resistant, Anti-Scalding Volume: 20oz-43oz Quantity Per Pack: 1",
        colors: [
          {
            name:"Green Apple",
            mainImage: "../../imgs/green apple.jpg",
            thumbnails: [
              "../../imgs/greenapplestand.jpg",
              "../../imgs/hotncold-green apple.png",
              "../../imgs/fourfruit.jpg"
            ],
            sizes: ["20oz", "27oz", "33oz", "43oz"],
          }
        ]
      }
    ];
  
    console.log('products (direct):', typeof products); // Check immediately after definition
  
    function getQueryParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }
  
    const colorName = getQueryParam('product');
    console.log('Color Name from URL:', colorName);
  
    if (colorName) {
      let foundProduct = null;
      let foundColor = null;
  
      if (products) {
        for (const product of products) {
          const color = product.colors.find(c => c.name.toLowerCase() === colorName.toLowerCase());
          if (color) {
            foundProduct = product;
            foundColor = color;
            break;
          }
        }
  
        console.log('Found Product:', foundProduct);
        console.log('Found Color:', foundColor);
  
        const mainImageElement = document.querySelector('.main-img');
        const titleElement = document.querySelector('.product-info .title');
        const priceElement = document.querySelector('.product-info .price');
        const descriptionElement = document.querySelector('.product-info .description');
        const thumbnailList = document.querySelector('.thumbnail-list');
        const sizeOptions = document.querySelector('.size-options');
        const colorOptions = document.querySelector('.color-options');
  
        if (mainImageElement) {
          mainImageElement.innerHTML = `<img src="${foundColor.mainImage}" alt="${foundColor.name}">`;
        }
        if (titleElement) {
          titleElement.textContent = foundProduct.title;
        }
        if (priceElement) {
          priceElement.textContent = foundProduct.price;
        }
        if (descriptionElement) {
          descriptionElement.textContent = foundProduct.description;
        }
  
        if (foundColor.thumbnails && thumbnailList) {
          thumbnailList.innerHTML = foundColor.thumbnails.map(thumb => `<img src="${thumb}" alt="thumbnail">`).join('');
        }
  
        if (foundColor.sizes && sizeOptions) {
          sizeOptions.innerHTML = foundColor.sizes.map(size => `<button class="button-size">${size}</button>`).join('');
        }
  
        if (foundProduct.colors && colorOptions) {
          colorOptions.innerHTML = foundProduct.colors.map(color => `<img src="${color.mainImage}" alt="${color.name}" class="${color.name.toLowerCase() === colorName.toLowerCase() ? 'selected' : ''}">`).join('');
        }
  
      } else {
        console.error('products array is not defined!');
        const titleElement = document.querySelector('.product-info .title');
        if (titleElement) {
          titleElement.textContent = 'Error loading product data.';
        }
      }
    } else {
      const titleElement = document.querySelector('.product-info .title');
      if (titleElement) {
        titleElement.textContent = 'No Product Selected';
      }
    }
  </script>
  
  <script src="../js/Product-Cart.js"></script>

</body>
</html>